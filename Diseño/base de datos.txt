CREATE DATABASE tecnoticos;
use tecnoticos;

CREATE TABLE dilema (
  id_dilema int AUTO_INCREMENT,
  titulo_dilema varchar(250) NOT NULL,
  resumen_dilema varchar(600) NOT NULL,
  descripcion_dilema varchar(600) NOT NULL,
PRIMARY KEY (id_dilema)
);

CREATE TABLE recurso (
id_recurso int AUTO_INCREMENT,
txt_recurso varchar(600) NOT NULL,
id_dilema int NOT NULL,
PRIMARY KEY (id_recurso),
FOREIGN KEY(id_dilema) REFERENCES dilema(id_dilema)
);


CREATE TABLE pregunta (
  id_pregunta int AUTO_INCREMENT,
  texto_pregunta varchar(250) NOT NULL,
id_dilema int NOT NULL,
PRIMARY KEY (id_pregunta),
FOREIGN KEY(id_dilema) REFERENCES dilema(id_dilema)
);

CREATE TABLE usuario (
  id_usuario int AUTO_INCREMENT,
  edad int(3) NOT NULL,
  correo varchar(250) NOT NULL,
  contrase√±a varchar(250) NOT NULL,
  sexo varchar(1) NOT NULL,
  rol varchar(20) NOT NULL,
PRIMARY KEY (id_usuario)
);

CREATE TABLE instituto (
id_instituto int AUTO_INCREMENT,
nombre_instituto varchar(250) NOT NULL,
dominio_instituto varchar(250) NOT NULL,
id_usuario int NOT NULL,
PRIMARY KEY (id_instituto),
FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario)
);

CREATE TABLE respuesta (
 id_respuesta int AUTO_INCREMENT,
texto_respuesta varchar(600) NOT NULL,
   id_usuario int NOT NULL,
  id_pregunta int NOT NULL,
id_dilema INT NOT NULL,
PRIMARY KEY (id_respuesta),
FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario),
FOREIGN KEY (id_pregunta) REFERENCES pregunta(id_pregunta),
FOREIGN KEY (id_dilema) REFERENCES dilema(id_dilema)
);